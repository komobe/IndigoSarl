<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:c="http://java.sun.com/jsp/jstl/cores" >

    <ui:composition template="/template/layout.xhtml">
        <ui:define name="title">Passer une commande</ui:define> 
        <ui:define name="content">
			<!-- page content -->
		       		 <div class="right_col" role="main">
		       			<div class="">
						  <div class="clearfix"></div>
						  <div class="row">
						    <div class="col-md-12 col-sm-12 col-xs-12">
						      <div class="x_panel">
						        <div class="x_title">
						          <h2>Ajouter un article</h2>
						          <div class="clearfix"></div>
						        </div>
						        <div class="x_content">
				  
				        		<h:messages globalOnly="true" showSummary="true" showDetail="true"
						          	infoClass="alert alert-success alert-dismissable fade in"  
						           	warnClass="alert alert-info alert-dismissable fade in"  
						           	errorClass="alert alert-warning alert-dismissable fade in"  
						           	fatalClass="alert alert-danger alert-dismissable fade in"> 
						            <!-- <a href="#" class="close" data-dismiss="alert" aria-label="close">x</a> -->
						        </h:messages>

						          <h:form id="ajouterArticle"  class="form-horizontal form-label-left" novalidate="novalidate">

						           <!-- <span class="section">Personal Info</span>  --> 
						         
						            <div class="item form-group col-md-6">
						              <h:outputLabel class="control-label col-md-3 col-sm-3 col-xs-12" for="code">Code <span class="required">*</span>
						              </h:outputLabel>
						              <div class="col-md-9 col-sm-9 col-xs-12">
						                <h:inputText id="code" value="#{ commandeBean.article.code }" required="true" class="form-control col-md-7 col-xs-12" />
						              </div>
						            </div>
						             
						            <div class="item form-group col-md-6">
						              <h:outputLabel class="control-label col-md-3 col-sm-3 col-xs-12" for="quantite">Quantité <span class="required">*</span>
						              </h:outputLabel>
						              <div class="col-md-9 col-sm-9 col-xs-12">
						                <h:inputText id="quantite" value="#{ commandeBean.article.quantite }" required="true" class="form-control col-md-7 col-xs-12" />
						              </div>
						            </div>
						           	<div class="clearfix"></div>
						            
						            <div class="ln_solid"></div>
						            <div class="form-group" align="center">
						              <div class="col-md-6 col-md-offset-3">
						              	<h:commandButton onreset="true" id="reset"  class="btn btn-primary" value="Annuler" />
		              					<h:commandButton id="send"  class="btn btn-success" value="Ajouter" action="#{ commandeBean.addArticlesCommande }" />
						              </div>
						            </div>
						          </h:form>						   
						        </div>
						      </div>
						    </div>
						  </div>
						  
						  <div class="row">
						    <div class="col-md-12 col-sm-12 col-xs-12">
						      <div class="x_panel">
						        <div class="x_title">
						          <h2>Liste des articles de la commande</h2>
						          <div class="clearfix"></div>
						        </div>
					        	
					        	<h:form>					        	
						        	<h:dataTable value="#{ commandeBean.allKeyArticlesCommande }" var="key"  id="datatable" class="table table-striped table-bordered">
			
									  <h:column>
								      <f:facet name="header">Code</f:facet>
								      <h:outputText value="#{commandeBean.articlesCommande[key].code}" />
								    </h:column>
								    <h:column>
								      <f:facet name="header">Code Catégorie</f:facet>
								      <h:outputText value="#{commandeBean.articlesCommande[key].codeCategorie}" />
								    </h:column>
								    <h:column>
								      <f:facet name="header">Quantité</f:facet>
								      <h:outputText value="#{commandeBean.articlesCommande[key].quantite}" />
								    </h:column>
								    <h:column>
								      <f:facet name="header">Prix</f:facet>
								      <h:outputText value="#{commandeBean.articlesCommande[key].prix}" />
								    </h:column>
								    <h:column>
								      <f:facet name="header"></f:facet>
								      <h:commandLink value="Supprimer " action="#{commandeBean.supprimerArticlesCommande(commandeBean.articlesCommande[key].code)}" class="btn btn-danger btn-xs">
								      	<i class="fa fa-trash-o"></i>
								      </h:commandLink>
								    </h:column>
									
									</h:dataTable>
					        	</h:form>  		        		        
					  		  </div>
					  		 </div>
					  		</div>
						  		
						  <div class="row">
						    <div class="col-md-12 col-sm-12 col-xs-12">
						      <div class="x_panel">
						        <div class="x_title">
						          <h2>Validé la commande</h2>
						          <div class="clearfix"></div>
						        </div>
						        
					        	<h:form id="validerCommande"  class="form-horizontal form-label-left" novalidate="novalidate">
						        	<div class="item form-group col-md-6">
						              <h:outputLabel class="control-label col-md-3 col-sm-3 col-xs-12" for="codeClient">Code du client
						              </h:outputLabel>
						              <div class="col-md-9 col-sm-9 col-xs-12">
						                <h:inputText id="codeClient" value="#{ commandeBean.item.codeClient }" class="form-control col-md-7 col-xs-12" />
						              </div>
						            </div>					          
						            <div class="form-group col-md-6">
				                        <h:outputLabel class="control-label col-md-3 col-sm-3 col-xs-12">Mode de paiement</h:outputLabel>
				                        
								   		<div class="col-md-9 col-sm-9 col-xs-12">
				                          <h:selectOneMenu value="#{commandeBean.item.codeModeReglement}"  styleClass="form-control">
								   			<f:selectItems value="#{commandeBean.listeModeReglement}" />
								   		  </h:selectOneMenu>
				                       	</div>
				                      </div>		  
				                      
					                <div class="form-group" align="center">
						              <div class="col-xs-12">
						                <h:commandButton onreset="true" id="reset"  class="btn btn-primary" value="Annuler la commande" />
		              					<h:commandButton id="send"  class="btn btn-success" value="Valider la commande" action="#{ commandeBean.add }"/>
						              </div>
						            </div>      	
					        	</h:form>
						        
						       </div>
						     </div>
						   </div>
						  
						</div>
		       		 </div>
		       	<!-- //page content -->
        </ui:define>
        
    </ui:composition>

</html>